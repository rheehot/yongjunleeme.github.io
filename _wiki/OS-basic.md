---
layout  : wiki
title   : os-basic
summary : 
date    : 2020-04-10 16:52:17 +0900
updated : 2020-04-10 17:19:25 +0900
tags    : 
toc     : true
public  : true
parent  : study
latex   : false
---
* TOC
{:toc}

## 캐시의 지역성

### 캐시 지역성의 원리

캐시 메모리는 속도가 빠른 장치와 느린 장치간의 속도차에 따른 병목현상을 줄이기 위한 범용 메모리다. 이런 역할을 수행하기 위해 CPU가 어떤 데이터를 원할 것인가를 어느 정도 예측할 수 있어야 한다. 캐시의 성능은 작은 용량의 캐시 메모리에 CPU가 이후에 참조할, 쓸모 있는 정보 가 어느 정도 들어있느냐에 따라 좌우되기 때문이다.

이 때 적중룔(Hit rate)을 극대화시키기 위해 데이터 지역성(Locality)의 원리를 사용한다. 지역성의 전제조건으로 프로그램은 모든 코드나 데이터를 균등하게 Access하지 않는다는 특성을 기본으로 한다. 즉, Locality란 기억장치 내 정보를 균일하게 Access하는 것이 아닌 어느 한 순간에 특정 부분을 집중적으로 참조하는 특성인 것이다.

이 데이터 지역성은 대표적으로 시간 지역성(Temporal Locality)과 공간 지역성(Spatial Locality)으로 나뉜다.

- 시간 지역성 : 최근 참조된 주소의 내용은 곧 다음에 다시 참조되는 특성.
- 공간 지역성 : 대부분의 실제 프로그램이 참조된 주소와 인접한 주소의 내용이 다시 참조되는 특성

### Caching Line

캐시(Cache)는 프로세서 가까이 위치하면서 빈번하게 사용되는 데이터를 두는 장소다. 하지만 캐시가 아무리 가까이 있어도 저장위치를 몰라 모든 데이터를 순회해야 한다면 시간이 오래걸린다. 즉, 캐시에 목적 데이터가 저장돼 있다면 바로 접근해 출력할 수 있어야 빠른 수행이 가능한 것이다.
이에 캐시에 데이터를 저장할 때 특정 자료구조를 사용하여 묶음으로 저장하는데 이를 ***캐싱라인***이라고 한다. 다양한 주소에 있는 데이터를 사용하므로 빈번하게 사용하는 데이터의 주소는 흩어져 있다. 따라서 캐시에 저장하는 데이터에는 데이터 메모리 주소 등을 기록해 둔 태그를 달아놓을 필요가 있다. 이러한 태그들의 묶음을 캐싱라인이다. 대표적으로 세 가지 방식이 있다.

1. Full Associative
2. Set Associative
3. Direct Map
